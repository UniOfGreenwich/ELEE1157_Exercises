<!DOCTYPE HTML>
<html lang="en" class="light sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>DHCPv4 - Network Routing Mangement</title>


        <!-- Custom HTML head -->

        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href=".././theme/pagetoc.css">
        <link rel="stylesheet" href=".././theme/css/mdbook-admonish.css">
        <link rel="stylesheet" href=".././theme/css/code.css">
        <link rel="stylesheet" href=".././theme/css/terminal.css">
        <link rel="stylesheet" href=".././theme/css/output.css">

        <!-- MathJax -->
        <script async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="../toc.js"></script>
    </head>
    <body>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var sidebar = null;
            var sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="../toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="burgundy">Burgundy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="dracula">Dracula</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ecoFriend">EcoFriend</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="pinkrose">Pinkrose</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="space">Space</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="sustain">Sustain</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="tokyonight">Tokyonight</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Network Routing Mangement</h1>

                    <div class="right-buttons">
                        <a href="https://github.com/uniofgreenwich/ELEE1157_Exercises" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>
                        <a href="https://github.com/uniofgreenwich/ELEE1157_Exercises/edit/main/src/DHCPv4/DHCPv4.md" title="Suggest an edit" aria-label="Suggest an edit">
                            <i id="git-edit-button" class="fa fa-edit"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main><div class="sidetoc"><nav class="pagetoc"></nav></div>
                        <h1 id="packet-tracer---configure-dhcpv4"><a class="header" href="#packet-tracer---configure-dhcpv4">Packet Tracer - Configure DHCPv4</a></h1>
<h2 id="addressing-table"><a class="header" href="#addressing-table">Addressing Table</a></h2>
<div class="table-wrapper"><table><thead><tr><th>Device</th><th>Interface</th><th>IPv4 Address</th><th>Subnet Mask</th><th>Default Gateway</th></tr></thead><tbody>
<tr><td>R1</td><td>G0/0</td><td>192.168.10.1</td><td>255.255.255.0</td><td>N/A</td></tr>
<tr><td>R1</td><td>S0/0/0</td><td>10.1.1.1</td><td>255.255.255.252</td><td>N/A</td></tr>
<tr><td>R2</td><td>G0/0</td><td>192.168.20.1</td><td>255.255.255.0</td><td>N/A</td></tr>
<tr><td>R2</td><td>G0/1</td><td>DHCP Assigned</td><td>DHCP Assigned</td><td>N/A</td></tr>
<tr><td>R2</td><td>S0/0/0</td><td>10.1.1.2</td><td>255.255.255.252</td><td>N/A</td></tr>
<tr><td>R2</td><td>S0/0/1</td><td>10.2.2.2</td><td>255.255.255.252</td><td>N/A</td></tr>
<tr><td>R3</td><td>G0/0</td><td>192.168.30.1</td><td>255.255.255.0</td><td>N/A</td></tr>
<tr><td>R3</td><td>S0/0/1</td><td>10.2.2.1</td><td>255.255.255.0</td><td>N/A</td></tr>
<tr><td>PC1</td><td>NIC</td><td>DHCP Assigned</td><td>DHCP Assigned</td><td>DHCP Assigned</td></tr>
<tr><td>PC2</td><td>NIC</td><td>DHCP Assigned</td><td>DHCP Assigned</td><td>DHCP Assigned</td></tr>
<tr><td>DNS Server</td><td>NIC</td><td>192.168.20.254</td><td>255.255.255.0</td><td>192.168.20.1</td></tr>
</tbody></table>
</div>
<h2 id="objectives"><a class="header" href="#objectives">Objectives</a></h2>
<p><strong>Part 1:</strong> Configure a Router as a DHCP Server</p>
<p><strong>Part 2:</strong> Configure DHCP Relay</p>
<p><strong>Part 3:</strong> Configure a Router as a DHCP Client</p>
<p><strong>Part 4:</strong> Verify DHCP and Connectivity</p>
<h2 id="scenario"><a class="header" href="#scenario">Scenario</a></h2>
<p>A dedicated DHCP server is scalable and relatively easy to manage but it can be costly to have one at every location in a network. However, a Cisco router can be configured to provide DHCP services without the need for a dedicated server. As the network technician for your company, you have been assigned the task of configuring a Cisco router as a DHCP server. You are also required to configure the edge router as a DHCP client so that it receives an IP address from the ISP network.</p>
<h2 id="instructions"><a class="header" href="#instructions">Instructions</a></h2>
<h3 id="part-1-configure-a-router-as-a-dhcp-server"><a class="header" href="#part-1-configure-a-router-as-a-dhcp-server">Part 1: Configure a Router as a DHCP Server</a></h3>
<h4 id="step-1-configure-the-excluded-ipv4-addresses"><a class="header" href="#step-1-configure-the-excluded-ipv4-addresses">Step 1: Configure the excluded IPv4 addresses.</a></h4>
<p>Addresses that have been statically assigned to devices in the networks that will use DHCP must be excluded from the DHCP pools. This avoids errors associated with duplicate IP addresses. In this case the IP addresses of the R1 and R3 LAN interfaces must be excluded from DHCP. In addition, nine other addresses are excluded for static assignment to other devices such servers and device management interfaces.</p>
<ul>
<li>
<p>[a.] Configure R2 to exclude the first 10 addresses from the R1 LAN.</p>
<p>Open configuration window</p>
  <div id="admonition-terminal" class="admonition admonish-terminal" role="note" aria-labelledby="admonition-terminal-title">
  <div class="admonition-title">
  <div id="admonition-terminal-title">
<p>Terminal</p>
  </div>
  <a class="admonition-anchor-link" href="#admonition-terminal"></a>
  </div>
  <div>
<pre><code>R2(config)# ip dhcp excluded-address 192.168.10.1 192.168.10.10
</code></pre>
  </div>
  </div>
</li>
<li>
<p>[b.] Configure R2 to exclude the first 10 addresses from R3 LAN.</p>
</li>
</ul>
<h4 id="step-2-create-a-dhcp-pool-on-r2-for-the-r1-lan"><a class="header" href="#step-2-create-a-dhcp-pool-on-r2-for-the-r1-lan">Step 2: Create a DHCP pool on R2 for the R1 LAN.</a></h4>
<ul>
<li>
<p>[a.] Create a DHCP pool named R1-LAN (case-sensitive).</p>
  <div id="admonition-note" class="admonition admonish-note" role="note" aria-labelledby="admonition-note-title">
  <div class="admonition-title">
  <div id="admonition-note-title">
<p>Note</p>
  </div>
  <a class="admonition-anchor-link" href="#admonition-note"></a>
  </div>
  <div>
<pre><code>R2(config)# ip dhcp pool R1-LAN
</code></pre>
  </div>
  </div>
</li>
<li>
<p>[b.] Configure the DHCP pool to include the network address, the default gateway, and the IP address of the DNS server.</p>
  <div id="admonition-terminal-1" class="admonition admonish-terminal" role="note" aria-labelledby="admonition-terminal-1-title">
  <div class="admonition-title">
  <div id="admonition-terminal-1-title">
<p>Terminal</p>
  </div>
  <a class="admonition-anchor-link" href="#admonition-terminal-1"></a>
  </div>
  <div>
<pre><code>R2(dhcp-config)# network 192.168.10.0 255.255.255.0
R2(dhcp-config)# default-router 192.168.10.1
R2(dhcp-config)# dns-server 192.168.20.254
</code></pre>
  </div>
  </div>
</li>
</ul>
<h4 id="step-3-create-a-dhcp-pool-on-r2-for-the-r3-lan"><a class="header" href="#step-3-create-a-dhcp-pool-on-r2-for-the-r3-lan">Step 3: Create a DHCP pool on R2 for the R3 LAN.</a></h4>
<ul>
<li>
<p>[a.] Create a DHCP pool named R3-LAN (case-sensitive).</p>
</li>
<li>
<p>[b.] Configure the DHCP pool to include the network address, the default gateway, and the IP address of the DNS server. Refer to the Addressing Table.</p>
<p>Close configuration window</p>
</li>
</ul>
<h3 id="part-2-configure-dhcp-relay"><a class="header" href="#part-2-configure-dhcp-relay">Part 2: Configure DHCP Relay</a></h3>
<h4 id="step-1-configure-r1-and-r3-as-a-dhcp-relay-agent"><a class="header" href="#step-1-configure-r1-and-r3-as-a-dhcp-relay-agent">Step 1: Configure R1 and R3 as a DHCP relay agent.</a></h4>
<p>For DHCP clients to obtain an address from a server on a different LAN segment, the interface that the clients are attached to must include a helper address pointing to the DHCP server. In this case, the hosts on the LANs that are attached to R1 and R3 will access the DHCP server that is configured on R2. The IP addresses of the R2 serial interfaces that are attached to R1 and R3 are used as the helper addresses. DHCP traffic from the hosts on the R1 and R3 LANs will be forwarded to these addresses and processed by the DHCP server that is configured on R2.</p>
<ul>
<li>
<p>[a.] Configure the helper address for the LAN interface on R1.</p>
<p>Open configuration window</p>
  <div id="admonition-terminal-2" class="admonition admonish-terminal" role="note" aria-labelledby="admonition-terminal-2-title">
  <div class="admonition-title">
  <div id="admonition-terminal-2-title">
<p>Terminal</p>
  </div>
  <a class="admonition-anchor-link" href="#admonition-terminal-2"></a>
  </div>
  <div>
<pre><code>R1(config)# interface g0/0
R1(config-if)# ip helper-address 10.1.1.2
</code></pre>
  </div>
  </div>
</li>
<li>
<p>[b.] Configure the helper address for the LAN interface on R3.</p>
</li>
</ul>
<h4 id="step-2-configure-hosts-to-receive-ip-addressing-information-from-dhcp"><a class="header" href="#step-2-configure-hosts-to-receive-ip-addressing-information-from-dhcp">Step 2: Configure hosts to receive IP addressing information from DHCP.</a></h4>
<ul>
<li>
<p>[a.]	Configure hosts PC1 and PC2 to receive their IP addresses from a DHCP server.</p>
</li>
<li>
<p>[b.] Verify that the hosts have received their addresses from the correct DHCP pools.</p>
<p>Close configuration window</p>
</li>
</ul>
<h3 id="part-3-configure-a-router-as-a-dhcp-client"><a class="header" href="#part-3-configure-a-router-as-a-dhcp-client">Part 3: Configure a Router as a DHCP Client</a></h3>
<p>Just as a PC is able to receive an IPv4 address from a server, a router interface has the ability to do the same. Router R2 needs to be configured to receive addressing from the ISP.</p>
<ul>
<li>
<p>[a.]	Configure the Gigabit Ethernet 0/1 interface on R2 to receive IP addressing from DHCP and activate the interface.</p>
<p>Open configuration window</p>
  <div id="admonition-terminal-3" class="admonition admonish-terminal" role="note" aria-labelledby="admonition-terminal-3-title">
  <div class="admonition-title">
  <div id="admonition-terminal-3-title">
<p>Terminal</p>
  </div>
  <a class="admonition-anchor-link" href="#admonition-terminal-3"></a>
  </div>
  <div>
<pre><code>R2(config)# interface g0/1
R2(config-if)# ip address dhcp
R2(config-if)# no shutdown
</code></pre>
  </div>
  </div>
  <div id="admonition-note-1" class="admonition admonish-note" role="note" aria-labelledby="admonition-note-1-title">
  <div class="admonition-title">
  <div id="admonition-note-1-title">
<p>Note</p>
  </div>
  <a class="admonition-anchor-link" href="#admonition-note-1"></a>
  </div>
  <div>
<p>Use Packet Tracerâ€™s Fast Forward Time feature to speed up the process.</p>
  </div>
  </div>
</li>
<li>
<p>[b.]	Use the show ip interface brief command to verify that R2 received an IP address from DHCP.</p>
</li>
</ul>
<h3 id="part-4-verify-dhcp-and-connectivity"><a class="header" href="#part-4-verify-dhcp-and-connectivity">Part 4: Verify DHCP and Connectivity</a></h3>
<h4 id="step-1-verify-dhcp-bindings"><a class="header" href="#step-1-verify-dhcp-bindings">Step 1: Verify DHCP bindings.</a></h4>
<div id="admonition-terminal-4" class="admonition admonish-terminal" role="note" aria-labelledby="admonition-terminal-4-title">
<div class="admonition-title">
<div id="admonition-terminal-4-title">
<p>Terminal</p>
</div>
<a class="admonition-anchor-link" href="#admonition-terminal-4"></a>
</div>
<div>
<pre><code>R2# show ip dhcp binding
IP address       Client-ID/              Lease expiration        Type
                 Hardware address
192.168.10.11    0002.4AA5.1470           --                     Automatic
192.168.30.11    0004.9A97.2535           --                     Automatic
</code></pre>
</div>
</div>
<p>Close configuration window</p>
<h4 id="step-2-verify-configurations"><a class="header" href="#step-2-verify-configurations">Step 2: Verify configurations.</a></h4>
<p>Verify that PC1 and PC2 can now ping each other and all other devices.</p>

                    </main>
                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../VLANs_and_Trunking/VLANs_and_Trunking.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="../IPv6/IPv6.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../VLANs_and_Trunking/VLANs_and_Trunking.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="../IPv6/IPv6.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="../elasticlunr.min.js"></script>
        <script src="../mark.min.js"></script>
        <script src="../searcher.js"></script>

        <script src="../clipboard.min.js"></script>
        <script src="../highlight.js"></script>
        <script src="../book.js"></script>

        <!-- Custom JS scripts -->
        <script src="../theme/pagetoc.js"></script>


    </div>
    </body>
</html>